<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.5; color: #333; }
        h2 { color: #2F4F4F; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .total { font-weight: bold; }
        .shipping { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f9f9f9; }
    </style>
</head>
<body>
    <h2>Invoice: {{ invoice.invoice_no }}</h2>
    <p>Dear {{ customer_name }},</p>
    <p>Thank you for your order. Please find your invoice details below. The PDF is also attached for your convenience.</p>

    <h3>Invoice Details</h3>
<table>
    <thead>
        <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        {% for item in invoice.items.all %}
        <tr>
            <td>{{ item.stock.product.name }}</td>
            <td>{{ item.quantity|floatformat:2 }}</td>
            <td>{{ item.unit_price|floatformat:2 }}</td>
            <td>{{ item.quantity|floatformat:2|mul:item.unit_price|floatformat:2 }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>


<p class="subtotal">Subtotal: {{ invoice.subtotal|floatformat:2 }}</p>

{% if shipping %}
<div class="shipping">
    <h3>Shipping Details</h3>
    <p>Delivery Order ID: {{ shipping.id }}</p>
    <p>Shipment Status: {{ shipping.status }}</p>
    <p>Shipment Date: {{ shipping.shipment_date|date:"d M Y" }}</p>
</div>
{% endif %}


    <p>Best regards,<br>Codedu</p>
</body>
</html>
