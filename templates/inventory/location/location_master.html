{% extends 'base_user.html' %}
{% load static i18n %}

{% block title %}{% trans "Location Master" %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/user/inventory_manager/location/location_master.css' %}">
<link rel="stylesheet" href="{% static 'css/user/user_tables.css' %}">
{% endblock %}

{% block content %}

<div class="lm-container">

    <!-- Header -->
    <div class="wh-header-section">
      <div class="wh-header-left">
          <h1>
              <span>{% trans "Warehouse " %}</span>
              {% trans " Location Master" %}
          </h1>
          <p>{% trans "Manage zones, racks, shelves and bins efficiently" %}</p>
      </div>
      <div class="wh-header-right">
          <a href="javascript:history.back()" class="btn-back">
              <i class="bi bi-arrow-left"></i> {% trans "Back" %}
          </a>
      </div>
  </div>


  <!-- ================= ADD FORMS ================= -->
  <div class="lm-form-grid">

    <!-- ZONE -->
    <div class="lm-card">
      <h3>{% trans "Add Zone" %}</h3>
      <label>{% trans "Zone Name" %}</label>
      <input id="zone_name" placeholder="Eg: Zone A">
      <button class="lm-btn primary" onclick="addZone()">{% trans "Add Zone" %}</button>
    </div>

    <!-- RACK -->
    <div class="lm-card">
      <h3>{% trans "Add Rack" %}</h3>
      <label>{% trans "Zone" %}</label>
      <select id="rack_zone"></select>
      <label>{% trans "Rack Number" %}</label>
      <input id="rack_number" placeholder="Eg: R1">
      <button class="lm-btn primary" onclick="addRack()">{% trans "Add Rack" %}</button>
    </div>

    <!-- SHELF -->
    <div class="lm-card">
      <h3>{% trans "Add Shelf" %}</h3>
      <label>{% trans "Rack" %}</label>
      <select id="shelf_rack"></select>
      <label>{% trans "Shelf Level" %}</label>
      <input id="shelf_level" placeholder="Eg: L1">
      <button class="lm-btn primary" onclick="addShelf()">{% trans "Add Shelf" %}</button>
    </div>

    <!-- BIN -->
    <div class="lm-card">
      <h3>{% trans "Add Bin" %}</h3>
      <label>{% trans "Shelf" %}</label>
      <select id="bin_shelf"></select>
      <label>{% trans "Bin Number" %}</label>
      <input id="bin_number" placeholder="Eg: B01">
      <label>{% trans "Capacity" %}</label>
      <input id="bin_capacity" value="100">
      <button class="lm-btn primary" onclick="addBin()">{% trans "Add Bin" %}</button>
    </div>

  </div>

  <!-- ================= LOCATION TABLE ================= -->
  <div class="im-table-heading">
    <h3>{% trans "Location Master (Bin Level)" %}</h3>
  </div>

  <!-- Table -->
  <div class="table-scroll-wrapper">
    <div class="table-container">
        <table class="table-content" id="tableContent">
          <thead>
            <tr>
              <th>{% trans "Zone" %}</th>
              <th>{% trans "Rack" %}</th>
              <th>{% trans "Shelf" %}</th>
              <th>{% trans "Bin" %}</th>
              <th>{% trans "Capacity" %}</th>
              <th>{% trans "Barcode" %}</th>
              <th class="center">{% trans "Action" %}</th>
            </tr>
          </thead>
          <tbody id="locationTable"></tbody>
        </table>
    </div>
      <!-- Pagination Controls -->
    <div class="pagination-container" id="tablePagination"></div>
  </div>

</div>

<div id="deleteModal" class="logout-modal">
  <div class="logout-modal-content">
    <h3><span>Delete</span> Confirmation</h3>
    <p id="deleteModalText">
      Are you sure you want to delete this item?
    </p>

    <div class="logout-modal-buttons">
      <a id="cancelDelete" class="logout-btn-cancel">Cancel</a>
      <a id="confirmDelete" class="logout-btn-confirm">Delete</a>
    </div>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{% static 'js/user/inventory/location_master.js' %}"></script>
<script src="{% static 'js/user/user_tables.js' %}"></script>
{% endblock %}



