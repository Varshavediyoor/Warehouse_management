{% extends 'base_user.html' %}
{% load static i18n %}

{% block title %}{% trans "Sales Orders" %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/user/salesofficer/order_list.css' %}">
<link rel="stylesheet" href="{% static 'css/user/user_tables.css' %}">
{% endblock %}

{% block content %}
<div class="sales-order-container">
    <!-- header  -->
    <div class="wh-header-section">
      <div class="wh-header-left">
          <h1><span>{% trans "Sales " %}</span> {% trans " Orders" %}</h1>
      </div>
      <div class="wh-header-right">          
          <a href="#" class="btn-back">
              <i class="bi bi-arrow-left"></i> {% trans "Back" %}
          </a>
      </div>
  </div>

  <!-- Meta Info -->
  <div class="order-meta">
    <div class="order-meta-content-left">
      <span class="records-count">{% trans "Total Orders:" %} <strong>{{ orders|length }}</strong></span>
      <span class="generated-date"><i class="bi bi-clock"></i> {% trans "Updated on:" %} {{ now|date:"d M Y, H:i" }}</span>
    </div>
  </div>

    <!-- table  -->
    <div class="table-scroll-wrapper">
      <div class="table-container">
          <table class="table-content" id="tableContent">
            <thead>
              <tr>
                <th>{% trans "Order No" %}</th>
                <th>{% trans "Customer Name" %}</th>
                <th>{% trans "Warehouse Manager Status" %}</th>
                <th>{% trans "Order Date" %}</th>
              </tr>
            </thead>
            <tbody>
              {% for order in orders %}
              <tr>
                <td>{{ order.order_no }}</td>
                <td>{{ order.customer_name }}</td>
                <td>
                  {% if order.status %}
                    <span class="status-badge status-{{ order.status|lower }}">{{ order.status }}</span>
                  {% else %}
                    <span class="status-badge status-pending">{% trans "Pending" %}</span>
                  {% endif %}
                </td>
                <td>{{ order.order_date|date:"Y-m-d H:i" }}</td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="4" class="no-data">{% trans "No Sales Orders Found" %}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <!-- Pagination Controls -->
        <div class="pagination-container" id="tablePagination"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/user/user_tables.js' %}"></script>
{% endblock %}